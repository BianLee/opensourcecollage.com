{"ast":null,"code":"var _jsxFileName = \"/home/bian/Desktop/Summer/a/src/Login.js\";\nimport React from \"react\";\nimport \"./style.css\";\nimport firebase from \"firebase\";\nimport firebaseApp from \"./firebaseapp\";\nimport { BrowserRouter as Router, Switch, Route, Link, useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default class Blog extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.authListener = () => {\n      firebaseApp.auth().onAuthStateChanged(user => {\n        if (user) {\n          clearInputs();\n          this.setState({\n            user: user\n          });\n          setUser(user);\n          localStorage.setItem(\"user\", user);\n          console.log(username);\n          console.log(user.uid);\n        } else {\n          setUser(\"\");\n        }\n      });\n    };\n\n    this.handleLogin = () => {\n      this.clearErrors(); // clearInputs();\n\n      firebaseApp.auth().signInWithEmailAndPassword(this.state.email, this.state.password).catch(err => {\n        console.log(\"stephanie\");\n\n        switch (err.code) {\n          case \"auth/invalid-email\":\n          case \"auth/user-disabled\":\n          case \"auth/user-not-found\":\n            this.setState({\n              emailError: \"Email not found\"\n            });\n            break;\n\n          case \"auth/wrong-password\":\n            this.setState({\n              passwordError: \"Wrong Password\"\n            });\n            break;\n        }\n      });\n    };\n\n    this.handleLogout = () => {\n      firebaseApp.auth().signOut();\n      localStorage.clear();\n      localStorage.setItem(\"user\", \"\");\n    };\n\n    this.setEmail = this.setEmail.bind(this);\n    this.setPassword = this.setPassword.bind(this);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      user: \"\",\n      emailError: \"\",\n      passwordError: \"\",\n      isLoggedIn: localStorage.getItem(\"isLoggedIn\") || 0\n    };\n    window.addEventListener(\"storage\", e => this.storageChanged(e));\n    this.storageChanged = this.storageChanged.bind(this);\n  }\n\n  componentWillMount() {\n    /* \n    this.setState({\n      user: localStorage.getItem(\"user\"),\n    }); */\n    firebase.auth().onAuthStateChanged(function (user) {\n      this.setState({\n        user: user\n      });\n    });\n  }\n\n  storageChanged(e) {\n    if (e.key === \"isLoggedIn\") {\n      this.setState({\n        isLoggedIn: e.newValue\n      });\n    }\n  }\n\n  goHome(e) {\n    console.log(\"hello\");\n    this.props.history.push(\"/\");\n  }\n\n  setEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  setPassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  clearErrors() {\n    this.setState({\n      emailError: \"\"\n    });\n  }\n\n  handleLogin(e) {\n    console.log(\"hello\");\n  }\n\n  render() {\n    if (localStorage.user) {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Logged In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.handleLogout,\n          children: \"Log out\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true);\n    } else {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"center\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              placeholder: \"Email\",\n              className: \"loginBox\",\n              style: {\n                outline: \"currentcolor none medium\"\n              },\n              autoComplete: \"off\",\n              onChange: this.setEmail\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              placeholder: \"Password\",\n              className: \"loginBox\",\n              style: {\n                outline: \"currentcolor none medium\",\n                marginTop: \"20px\"\n              },\n              autoComplete: \"off\",\n              onChange: this.setPassword\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"loginBox\",\n              style: {\n                marginTop: \"20px\",\n                cursor: \"pointer\"\n              },\n              onClick: this.handleLogin,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"questionTitleInner\",\n              style: {\n                marginBottom: \"10px\",\n                fontFamily: \"Source Sans Pro\"\n              },\n              children: \"Login is only available for registered organizations. Through logging in, any student-run organization may post and share opportunities to be visible on the front page of this site. If you are part of an organization and wish to register, please fill out this Google Form to apply. All organizations must go through this application to be registered and gain login access (and posting ability) on the site. After completing the form, please allow up to 3 business days to get your login credentials (will be emailed).\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this), this.state.user]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 134,\n          columnNumber: 11\n        }, this)\n      }, void 0, false);\n    }\n  }\n\n}","map":{"version":3,"sources":["/home/bian/Desktop/Summer/a/src/Login.js"],"names":["React","firebase","firebaseApp","BrowserRouter","Router","Switch","Route","Link","useHistory","Blog","Component","constructor","props","authListener","auth","onAuthStateChanged","user","clearInputs","setState","setUser","localStorage","setItem","console","log","username","uid","handleLogin","clearErrors","signInWithEmailAndPassword","state","email","password","catch","err","code","emailError","passwordError","handleLogout","signOut","clear","setEmail","bind","setPassword","isLoggedIn","getItem","window","addEventListener","e","storageChanged","componentWillMount","key","newValue","goHome","history","push","target","value","render","outline","marginTop","cursor","marginBottom","fontFamily"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./style.css\";\nimport firebase from \"firebase\";\nimport firebaseApp from \"./firebaseapp\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useHistory,\n} from \"react-router-dom\";\n\nexport default class Blog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.setEmail = this.setEmail.bind(this);\n    this.setPassword = this.setPassword.bind(this);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      user: \"\",\n      emailError: \"\",\n      passwordError: \"\",\n      isLoggedIn: localStorage.getItem(\"isLoggedIn\") || 0,\n    };\n\n    window.addEventListener(\"storage\", (e) => this.storageChanged(e));\n    this.storageChanged = this.storageChanged.bind(this);\n  }\n\n  componentWillMount() {\n    /* \n    this.setState({\n      user: localStorage.getItem(\"user\"),\n    }); */\n    firebase.auth().onAuthStateChanged(function (user) {\n      this.setState({\n        user: user,\n      });\n    });\n  }\n\n  storageChanged(e) {\n    if (e.key === \"isLoggedIn\") {\n      this.setState({ isLoggedIn: e.newValue });\n    }\n  }\n\n  authListener = () => {\n    firebaseApp.auth().onAuthStateChanged((user) => {\n      if (user) {\n        clearInputs();\n        this.setState({\n          user: user,\n        });\n        setUser(user);\n        localStorage.setItem(\"user\", user);\n        console.log(username);\n        console.log(user.uid);\n      } else {\n        setUser(\"\");\n      }\n    });\n  };\n\n  goHome(e) {\n    console.log(\"hello\");\n    this.props.history.push(\"/\");\n  }\n\n  setEmail(e) {\n    this.setState({\n      email: e.target.value,\n    });\n  }\n  setPassword(e) {\n    this.setState({\n      password: e.target.value,\n    });\n  }\n\n  clearErrors() {\n    this.setState({\n      emailError: \"\",\n    });\n  }\n\n  handleLogin(e) {\n    console.log(\"hello\");\n  }\n\n  handleLogin = () => {\n    this.clearErrors();\n    // clearInputs();\n    firebaseApp\n      .auth()\n      .signInWithEmailAndPassword(this.state.email, this.state.password)\n      .catch((err) => {\n        console.log(\"stephanie\");\n        switch (err.code) {\n          case \"auth/invalid-email\":\n          case \"auth/user-disabled\":\n          case \"auth/user-not-found\":\n            this.setState({\n              emailError: \"Email not found\",\n            });\n            break;\n          case \"auth/wrong-password\":\n            this.setState({\n              passwordError: \"Wrong Password\",\n            });\n            break;\n        }\n      });\n  };\n\n  handleLogout = () => {\n    firebaseApp.auth().signOut();\n    localStorage.clear();\n    localStorage.setItem(\"user\", \"\");\n  };\n\n  render() {\n    if (localStorage.user) {\n      return (\n        <>\n          <p>Logged In</p>\n          <button onClick={this.handleLogout}>Log out</button>\n        </>\n      );\n    } else {\n      return (\n        <>\n          <center>\n            <br />\n\n            <div className=\"dashboard\">\n              <input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Email\"\n                className=\"loginBox\"\n                style={{\n                  outline: \"currentcolor none medium\",\n                }}\n                autoComplete=\"off\"\n                onChange={this.setEmail}\n              />\n              <br />\n              <input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Password\"\n                className=\"loginBox\"\n                style={{\n                  outline: \"currentcolor none medium\",\n                  marginTop: \"20px\",\n                }}\n                autoComplete=\"off\"\n                onChange={this.setPassword}\n              />\n              <br />\n              <button\n                className=\"loginBox\"\n                style={{ marginTop: \"20px\", cursor: \"pointer\" }}\n                onClick={this.handleLogin}\n              >\n                Submit\n              </button>\n              <br /> <br />\n              <br />\n              <p\n                className=\"questionTitleInner\"\n                style={{ marginBottom: \"10px\", fontFamily: \"Source Sans Pro\" }}\n              >\n                Login is only available for registered organizations. Through\n                logging in, any student-run organization may post and share\n                opportunities to be visible on the front page of this site. If\n                you are part of an organization and wish to register, please\n                fill out this Google Form to apply. All organizations must go\n                through this application to be registered and gain login access\n                (and posting ability) on the site. After completing the form,\n                please allow up to 3 business days to get your login credentials\n                (will be emailed).\n              </p>\n              {this.state.user}\n            </div>\n          </center>\n        </>\n      );\n    }\n  }\n}\n"]},"metadata":{},"sourceType":"module"}