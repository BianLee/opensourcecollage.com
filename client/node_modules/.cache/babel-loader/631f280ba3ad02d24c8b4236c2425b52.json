{"ast":null,"code":"var _jsxFileName = \"/home/bian/Desktop/Summer/a/src/Login.js\";\nimport React from \"react\";\nimport \"./style.css\";\nimport firebase from \"firebase\";\nimport firebaseApp from \"./firebaseapp\";\nimport { BrowserRouter as Router, Switch, Route, Link, useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Blog extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.clearInputs = () => {\n      this.setState({\n        email: \"\",\n        password: \"\"\n      });\n    };\n\n    this.authListener = () => {\n      firebaseApp.auth().onAuthStateChanged(user => {\n        if (user) {\n          this.clearInputs();\n          this.setState({\n            user: user\n          });\n          localStorage.setItem(\"user\", user);\n          console.log(user.uid);\n        } else {\n          this.setState({\n            user: \"\"\n          });\n        }\n      });\n    };\n\n    this.handleLogin = () => {\n      this.clearErrors(); // clearInputs();\n\n      firebaseApp.auth().signInWithEmailAndPassword(this.state.email, this.state.password).catch(err => {\n        console.log(\"stephanie\");\n\n        switch (err.code) {\n          case \"auth/invalid-email\":\n          case \"auth/user-disabled\":\n          case \"auth/user-not-found\":\n            this.setState({\n              emailError: \"Email not found\"\n            });\n            break;\n\n          case \"auth/wrong-password\":\n            this.setState({\n              passwordError: \"Wrong Password\"\n            });\n            break;\n        }\n      });\n    };\n\n    this.handleLogout = () => {\n      firebaseApp.auth().signOut();\n      localStorage.clear();\n      localStorage.setItem(\"user\", \"\");\n    };\n\n    this.setEmail = this.setEmail.bind(this);\n    this.setPassword = this.setPassword.bind(this);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      user: \"\",\n      emailError: \"\",\n      passwordError: \"\"\n    };\n  }\n\n  componentWillMount() {\n    /* \n    this.setState({\n      user: localStorage.getItem(\"user\"),\n    }); */\n    firebase.auth().onAuthStateChanged(function (user) {\n      this.setState({\n        user: user\n      });\n    });\n  }\n\n  goHome(e) {\n    console.log(\"hello\");\n    this.props.history.push(\"/\");\n  }\n\n  setEmail(e) {\n    this.setState({\n      email: e.target.value\n    });\n  }\n\n  setPassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  clearErrors() {\n    this.setState({\n      emailError: \"\"\n    });\n  }\n\n  handleLogin(e) {\n    console.log(\"hello\");\n  }\n\n  render() {\n    var isLoggedIn = false;\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        isLoggedIn = true;\n      } else {\n        isLoggedIn = false;\n      }\n    });\n\n    if (isLoggedIn) {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Logged In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 14\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Logged Out\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 14\n      }, this);\n    }\n    /* \n    if (localStorage.user) {\n      return (\n        \n      );\n    }\n    */\n\n  }\n\n}","map":{"version":3,"sources":["/home/bian/Desktop/Summer/a/src/Login.js"],"names":["React","firebase","firebaseApp","BrowserRouter","Router","Switch","Route","Link","useHistory","Blog","Component","constructor","props","clearInputs","setState","email","password","authListener","auth","onAuthStateChanged","user","localStorage","setItem","console","log","uid","handleLogin","clearErrors","signInWithEmailAndPassword","state","catch","err","code","emailError","passwordError","handleLogout","signOut","clear","setEmail","bind","setPassword","componentWillMount","goHome","e","history","push","target","value","render","isLoggedIn"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport \"./style.css\";\nimport firebase from \"firebase\";\nimport firebaseApp from \"./firebaseapp\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Link,\n  useHistory,\n} from \"react-router-dom\";\n\nexport default class Blog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.setEmail = this.setEmail.bind(this);\n    this.setPassword = this.setPassword.bind(this);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      user: \"\",\n      emailError: \"\",\n      passwordError: \"\",\n    };\n  }\n\n  clearInputs = () => {\n    this.setState({\n      email: \"\",\n      password: \"\",\n    });\n  };\n\n  componentWillMount() {\n    /* \n    this.setState({\n      user: localStorage.getItem(\"user\"),\n    }); */\n    firebase.auth().onAuthStateChanged(function (user) {\n      this.setState({\n        user: user,\n      });\n    });\n  }\n\n  authListener = () => {\n    firebaseApp.auth().onAuthStateChanged((user) => {\n      if (user) {\n        this.clearInputs();\n        this.setState({\n          user: user,\n        });\n\n        localStorage.setItem(\"user\", user);\n\n        console.log(user.uid);\n      } else {\n        this.setState({\n          user: \"\",\n        });\n      }\n    });\n  };\n\n  goHome(e) {\n    console.log(\"hello\");\n    this.props.history.push(\"/\");\n  }\n\n  setEmail(e) {\n    this.setState({\n      email: e.target.value,\n    });\n  }\n  setPassword(e) {\n    this.setState({\n      password: e.target.value,\n    });\n  }\n\n  clearErrors() {\n    this.setState({\n      emailError: \"\",\n    });\n  }\n\n  handleLogin(e) {\n    console.log(\"hello\");\n  }\n\n  handleLogin = () => {\n    this.clearErrors();\n    // clearInputs();\n    firebaseApp\n      .auth()\n      .signInWithEmailAndPassword(this.state.email, this.state.password)\n      .catch((err) => {\n        console.log(\"stephanie\");\n        switch (err.code) {\n          case \"auth/invalid-email\":\n          case \"auth/user-disabled\":\n          case \"auth/user-not-found\":\n            this.setState({\n              emailError: \"Email not found\",\n            });\n            break;\n          case \"auth/wrong-password\":\n            this.setState({\n              passwordError: \"Wrong Password\",\n            });\n            break;\n        }\n      });\n  };\n\n  handleLogout = () => {\n    firebaseApp.auth().signOut();\n    localStorage.clear();\n    localStorage.setItem(\"user\", \"\");\n  };\n\n  render() {\n    var isLoggedIn = false;\n    firebase.auth().onAuthStateChanged(function (user) {\n      if (user) {\n        isLoggedIn = true;\n      } else {\n        isLoggedIn = false;\n      }\n    });\n    if (isLoggedIn) {\n      return <p>Logged In</p>;\n    } else {\n      return <p>Logged Out</p>;\n    }\n    /* \n    if (localStorage.user) {\n      return (\n        \n      );\n    }\n    */\n  }\n}\n"]},"metadata":{},"sourceType":"module"}