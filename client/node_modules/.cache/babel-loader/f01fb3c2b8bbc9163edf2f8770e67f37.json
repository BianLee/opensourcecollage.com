{"ast":null,"code":"var _jsxFileName = \"/home/bian/Desktop/Summer/a/src/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport firebaseApp from \"./firebaseapp\";\nimport firebase from \"firebase\";\nimport { useHistory } from \"react-router\";\nimport OpportunitiesCategory from \"./data/opportunitiesCategory.json\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function Login() {\n  _s();\n\n  var currentUser = \"\";\n  const [user, setUser] = useState(localStorage.getItem(\"user\"));\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [hasAccount, setHasAccount] = useState(false);\n  const history = useHistory();\n\n  const goHome = e => {\n    console.log(\"hello\");\n    history.push({\n      pathname: \"/\"\n    });\n  };\n\n  const clearInputs = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  const clearErrors = () => {\n    setEmailError(\"\");\n  };\n\n  const handleLogin = () => {\n    clearErrors(); // clearInputs();\n\n    firebaseApp.auth().signInWithEmailAndPassword(email, password).catch(err => {\n      switch (err.code) {\n        case \"auth/invalid-email\":\n        case \"auth/user-disabled\":\n        case \"auth/user-not-found\":\n          setEmailError(\"Email not found\");\n          break;\n\n        case \"auth/wrong-password\":\n          setPasswordError(\"Wrong password\");\n          break;\n      }\n    });\n  };\n\n  const handleSignup = () => {\n    clearErrors(); // clearInputs();\n\n    console.log(username);\n    firebaseApp.auth().createUserWithEmailAndPassword(email, password).then(function (data) {\n      console.log(\"uid\", data.user.uid);\n      firebase.database().ref(\"users/\" + data.user.uid).set({\n        id: data.user.uid,\n        username: username,\n        email: email\n      });\n    }).catch(err => {\n      console.log(\"error occured\");\n\n      switch (err.code) {\n        case \"auth/email-already-in-use\":\n        case \"auth/invalid-email\":\n          setEmailError(\"Invalid email\");\n          break;\n\n        case \"auth/weak-password\":\n          setPasswordError(\"Weak password\");\n          break;\n      }\n    });\n  };\n\n  const handleLogout = () => {\n    firebaseApp.auth().signOut();\n    localStorage.clear();\n    localStorage.setItem(\"user\", \"\");\n  };\n\n  const authListener = () => {\n    firebaseApp.auth().onAuthStateChanged(user => {\n      if (user) {\n        clearInputs();\n        setUser(user);\n        localStorage.setItem(\"user\", user);\n        console.log(username);\n        console.log(user.uid);\n      } else {\n        setUser(\"\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    authListener();\n  }, []);\n\n  if (user) {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"center\", {\n        children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"questionTitleInner\",\n            style: {\n              marginBottom: \"10px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontSize: \"16px\",\n                lineHeight: \"2rem\",\n                cursor: \"pointer\"\n              },\n              onClick: goHome,\n              children: \"\\u2190 Back\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Dashboard\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontFamily: \"Source Sans Pro\"\n            },\n            children: [\"Email: \", user.email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"loginBox\",\n            style: {\n              marginTop: \"20px\",\n              cursor: \"pointer\",\n              fontFamily: \"Source Sans Pro\"\n            },\n            onClick: handleLogout,\n            children: \"Log Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Post Opportunities\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"Title\",\n            className: \"loginBox\",\n            style: {\n              outline: \"currentcolor none medium\"\n            },\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            placeholder: \"URL\",\n            className: \"loginBox\",\n            style: {\n              outline: \"currentcolor none medium\",\n              marginTop: \"20px\"\n            },\n            autoComplete: \"off\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 13\n          }, this), OpportunitiesCategory.map(cat => {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: this.state.oppSearch.length != 0 ? \"none\" : \"inline-block\",\n                  marginBottom: \"20px\"\n                },\n                onClick: this.handleOppCat,\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  style: {\n                    flexShrink: \"0\",\n                    padding: \"0.2rem\",\n                    marginLeft: \"20px\"\n                  },\n                  type: \"checkbox\",\n                  defaultChecked: \"true\",\n                  id: cat.title\n                }, cat.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 182,\n                  columnNumber: 21\n                }, this), \" \", /*#__PURE__*/_jsxDEV(\"label\", {\n                  style: {\n                    fontFamily: \"Source Sans Pro\",\n                    fontSize: \"17px\",\n                    display: \"inline-block\",\n                    marginTop: \"5px\"\n                  },\n                  for: cat.title,\n                  children: cat.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 193,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this)\n            }, void 0, false);\n          })]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  } else {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(\"center\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"dashboard\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"questionTitleInner\",\n              style: {\n                marginBottom: \"10px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: \"16px\",\n                  lineHeight: \"2rem\",\n                  cursor: \"pointer\"\n                },\n                onClick: goHome,\n                children: \"\\u2190 Back\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              placeholder: \"Email\",\n              className: \"loginBox\",\n              style: {\n                outline: \"currentcolor none medium\"\n              },\n              autoComplete: \"off\",\n              onChange: e => setEmail(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 236,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              name: \"name\",\n              placeholder: \"Password\",\n              className: \"loginBox\",\n              style: {\n                outline: \"currentcolor none medium\",\n                marginTop: \"20px\"\n              },\n              autoComplete: \"off\",\n              onChange: e => setPassword(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 248,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"loginBox\",\n              style: {\n                marginTop: \"20px\",\n                cursor: \"pointer\"\n              },\n              onClick: handleLogin,\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 22\n            }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"questionTitleInner\",\n              style: {\n                marginBottom: \"10px\",\n                fontFamily: \"Source Sans Pro\"\n              },\n              children: \"Login is only available for registered organizations. Through logging in, any student-run organization may post and share opportunities to be visible on the front page of this site. If you are part of an organization and wish to register, please fill out this Google Form to apply. All organizations must go through this application to be registered and gain login access (and posting ability) on the site. After completing the form, please allow up to 3 business days to get your login credentials (will be emailed).\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)\n      }, void 0, false)\n    }, void 0, false);\n  }\n}\n\n_s(Login, \"DWAh5hNGBBcPtbikZ/Oe8hkrTbo=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/bian/Desktop/Summer/a/src/Login.js"],"names":["React","useEffect","useState","firebaseApp","firebase","useHistory","OpportunitiesCategory","Login","currentUser","user","setUser","localStorage","getItem","email","setEmail","password","setPassword","username","setUsername","emailError","setEmailError","passwordError","setPasswordError","hasAccount","setHasAccount","history","goHome","e","console","log","push","pathname","clearInputs","clearErrors","handleLogin","auth","signInWithEmailAndPassword","catch","err","code","handleSignup","createUserWithEmailAndPassword","then","data","uid","database","ref","set","id","handleLogout","signOut","clear","setItem","authListener","onAuthStateChanged","marginBottom","fontSize","lineHeight","cursor","fontFamily","marginTop","outline","map","cat","display","state","oppSearch","length","handleOppCat","flexShrink","padding","marginLeft","title","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport firebaseApp from \"./firebaseapp\";\nimport firebase from \"firebase\";\nimport { useHistory } from \"react-router\";\nimport OpportunitiesCategory from \"./data/opportunitiesCategory.json\";\n\nexport default function Login() {\n  var currentUser = \"\";\n\n  const [user, setUser] = useState(localStorage.getItem(\"user\"));\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [emailError, setEmailError] = useState(\"\");\n  const [passwordError, setPasswordError] = useState(\"\");\n  const [hasAccount, setHasAccount] = useState(false);\n  const history = useHistory();\n  const goHome = (e) => {\n    console.log(\"hello\");\n    history.push({\n      pathname: \"/\",\n    });\n  };\n\n  const clearInputs = () => {\n    setEmail(\"\");\n    setPassword(\"\");\n  };\n\n  const clearErrors = () => {\n    setEmailError(\"\");\n  };\n\n  const handleLogin = () => {\n    clearErrors();\n    // clearInputs();\n    firebaseApp\n      .auth()\n      .signInWithEmailAndPassword(email, password)\n      .catch((err) => {\n        switch (err.code) {\n          case \"auth/invalid-email\":\n          case \"auth/user-disabled\":\n          case \"auth/user-not-found\":\n            setEmailError(\"Email not found\");\n            break;\n          case \"auth/wrong-password\":\n            setPasswordError(\"Wrong password\");\n            break;\n        }\n      });\n  };\n\n  const handleSignup = () => {\n    clearErrors();\n    // clearInputs();\n    console.log(username);\n    firebaseApp\n      .auth()\n      .createUserWithEmailAndPassword(email, password)\n      .then(function (data) {\n        console.log(\"uid\", data.user.uid);\n        firebase\n          .database()\n          .ref(\"users/\" + data.user.uid)\n          .set({\n            id: data.user.uid,\n            username: username,\n            email: email,\n          });\n      })\n      .catch((err) => {\n        console.log(\"error occured\");\n        switch (err.code) {\n          case \"auth/email-already-in-use\":\n          case \"auth/invalid-email\":\n            setEmailError(\"Invalid email\");\n            break;\n          case \"auth/weak-password\":\n            setPasswordError(\"Weak password\");\n            break;\n        }\n      });\n  };\n\n  const handleLogout = () => {\n    firebaseApp.auth().signOut();\n    localStorage.clear();\n    localStorage.setItem(\"user\", \"\");\n  };\n\n  const authListener = () => {\n    firebaseApp.auth().onAuthStateChanged((user) => {\n      if (user) {\n        clearInputs();\n        setUser(user);\n        localStorage.setItem(\"user\", user);\n        console.log(username);\n        console.log(user.uid);\n      } else {\n        setUser(\"\");\n      }\n    });\n  };\n\n  useEffect(() => {\n    authListener();\n  }, []);\n\n  if (user) {\n    return (\n      <>\n        <center>\n          <br />\n          <div className=\"dashboard\">\n            <p className=\"questionTitleInner\" style={{ marginBottom: \"10px\" }}>\n              <span\n                style={{\n                  fontSize: \"16px\",\n                  lineHeight: \"2rem\",\n                  cursor: \"pointer\",\n                }}\n                onClick={goHome}\n              >\n                ← Back\n              </span>\n            </p>\n            <h2>Dashboard</h2>\n            <p style={{ fontFamily: \"Source Sans Pro\" }}>Email: {user.email}</p>\n            <button\n              className=\"loginBox\"\n              style={{\n                marginTop: \"20px\",\n                cursor: \"pointer\",\n                fontFamily: \"Source Sans Pro\",\n              }}\n              onClick={handleLogout}\n            >\n              Log Out\n            </button>\n            <br />\n            <br />\n            <br />\n            <br />\n            <h2>Post Opportunities</h2>\n            <br />\n            <input\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"Title\"\n              className=\"loginBox\"\n              style={{\n                outline: \"currentcolor none medium\",\n              }}\n              autoComplete=\"off\"\n            />\n            <br />\n            <input\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"URL\"\n              className=\"loginBox\"\n              style={{\n                outline: \"currentcolor none medium\",\n                marginTop: \"20px\",\n              }}\n              autoComplete=\"off\"\n            />\n            {OpportunitiesCategory.map((cat) => {\n              return (\n                <>\n                  <div\n                    style={{\n                      display:\n                        this.state.oppSearch.length != 0\n                          ? \"none\"\n                          : \"inline-block\",\n                      marginBottom: \"20px\",\n                    }}\n                    onClick={this.handleOppCat}\n                  >\n                    <input\n                      key={cat.id}\n                      style={{\n                        flexShrink: \"0\",\n                        padding: \"0.2rem\",\n                        marginLeft: \"20px\",\n                      }}\n                      type=\"checkbox\"\n                      defaultChecked=\"true\"\n                      id={cat.title}\n                    />{\" \"}\n                    <label\n                      style={{\n                        fontFamily: \"Source Sans Pro\",\n                        fontSize: \"17px\",\n                        display: \"inline-block\",\n                        marginTop: \"5px\",\n                      }}\n                      for={cat.title}\n                    >\n                      {cat.title}\n                    </label>\n                  </div>\n                </>\n              );\n            })}\n          </div>\n        </center>\n      </>\n    );\n  } else {\n    return (\n      <>\n        <>\n          <center>\n            <br />\n\n            <div className=\"dashboard\">\n              <p\n                className=\"questionTitleInner\"\n                style={{ marginBottom: \"10px\" }}\n              >\n                <span\n                  style={{\n                    fontSize: \"16px\",\n                    lineHeight: \"2rem\",\n                    cursor: \"pointer\",\n                  }}\n                  onClick={goHome}\n                >\n                  ← Back\n                </span>\n              </p>\n              <br />\n              <input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Email\"\n                className=\"loginBox\"\n                style={{\n                  outline: \"currentcolor none medium\",\n                }}\n                autoComplete=\"off\"\n                onChange={(e) => setEmail(e.target.value)}\n              />\n              <br />\n              <input\n                type=\"text\"\n                name=\"name\"\n                placeholder=\"Password\"\n                className=\"loginBox\"\n                style={{\n                  outline: \"currentcolor none medium\",\n                  marginTop: \"20px\",\n                }}\n                autoComplete=\"off\"\n                onChange={(e) => setPassword(e.target.value)}\n              />\n              <br />\n              <button\n                className=\"loginBox\"\n                style={{ marginTop: \"20px\", cursor: \"pointer\" }}\n                onClick={handleLogin}\n              >\n                Submit\n              </button>\n              <br /> <br />\n              <br />\n              <p\n                className=\"questionTitleInner\"\n                style={{ marginBottom: \"10px\", fontFamily: \"Source Sans Pro\" }}\n              >\n                Login is only available for registered organizations. Through\n                logging in, any student-run organization may post and share\n                opportunities to be visible on the front page of this site. If\n                you are part of an organization and wish to register, please\n                fill out this Google Form to apply. All organizations must go\n                through this application to be registered and gain login access\n                (and posting ability) on the site. After completing the form,\n                please allow up to 3 business days to get your login credentials\n                (will be emailed).\n              </p>\n            </div>\n          </center>\n        </>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}